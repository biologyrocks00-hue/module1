<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cell Types and Cell Modification</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
      .correct {
        background-color: #d4edda;
      }
      .incorrect {
        background-color: #f8d7da;
      }
      input[type="checkbox"] {
        transform: scale(1.2);
        cursor: pointer;
      }

      .result {
        text-align: center;
        font-weight: bold;
      }

      .lecture-title {
        background: #2e7d32;
        color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        margin-bottom: 30px;
      }
      .lecture-card {
        background: white;
        border-left: 6px solid #66bb6a;
        margin-bottom: 20px;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      }
      .structure-title {
        font-weight: 600;
        color: #1b5e20;
      }
      .function-text {
        margin-top: 8px;
      }
      .input-group-text {
        white-space: normal;
        word-break: break-word;
      }

      .rotate-icon {
        display: inline-block;
        transition: transform 0.3s ease;
      }

      .rotate-icon.rotated {
        transform: rotate(180deg);
      }
      hr {
        font-weight: 900;
        color: #198754;
      }
      .modal.fade.show {
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(20px); /* Safari */
        background-color: rgba(0, 0, 0, 00.8);
      }
      body {
        background-color: #f8f9fa;
      }
      .lecture-header {
        background: linear-gradient(135deg, #198754, #20c997);
        color: white;
      }
      .lecture-content p {
        text-align: justify;
      }
      body {
        background: #f4f6f9;
      }
      .feedback {
        display: block;
        margin-top: 4px;
        font-size: 0.85rem;
      }

      .feedback.correct {
        color: #198754; /* green */
      }

      .feedback.incorrect {
        color: #dc3545; /* red */
      }

      /* Optional: color the textbox border */
      .input-correct {
        border-color: #198754;
      }

      .input-incorrect {
        border-color: #dc3545;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="lecture-header py-4 mb-4">
      <div class="container">
        <h1 class="fw-bold">Lesson 4: Cell Types and Cell Modification</h1>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container lecture-content mb-5">
      <!-- Introduction Card -->
      <div class="card mb-5 shadow-sm">
        <div class="card-body">
          <p class="card-text">
            Welcome to Lesson 4! Now that you understand the fundamental
            differences between prokaryotic and eukaryotic cells, it is time to
            look at how cells specialize. Just as a society needs doctors,
            engineers, and farmers to function, a multicellular organism needs
            specialized cells to survive.
          </p>
          <h4 class="card-title fw-semibold">What’s In</h4>
          <ul>
            <li>
              In lesson 3, you have learned about the difference between
              prokaryotic and eukaryotic cells according to their distinguishing
              features.
            </li>
            <li>
              In this next topic, you will learn on the classification of
              different cell types and cell modifications that lead to
              adaptation to carry out specialized functions.
            </li>
          </ul>
          <h4 class="card-title fw-semibold">What is It?</h4>
          <h3>I. Cell Types: The Multi-Taskers</h3>
          <p class="card-text">
            While all eukaryotic cells share common organelles, they are
            categorized into four main types based on the organism they belong
            to. Each has a unique structure suited to its lifestyle.
          </p>
          <ul class="list-group-numbered">
            <li class="list-group-item">
              <strong>Animal Cells:</strong> Do not have a cell wall; they are
              flexible, allowing for complex movements.
            </li>
            <li class="list-group-item">
              <strong>Plant Cells:</strong> Characterized by a rigid cell wall
              (made of cellulose) and chloroplasts for photosynthesis.
            </li>
            <li class="list-group-item">
              <strong>Fungal Cells:</strong> Similar to plant cells but have a
              cell wall made of chitin and lack chloroplasts.
            </li>
            <li class="list-group-item">
              <strong>Protist Cells:</strong> A diverse group of mostly
              unicellular organisms that can have features of both plants and
              animals.
            </li>
          </ul>
          <div class="container-fluid mb-3">
            <div class="d-flex justify-content-center">
              <img
                src="../images/animal_n_plant.jpg"
                alt=""
                class="img-fluid img-thumbnail"
              />
            </div>
          </div>
          <h3>II. Cell Modification (Specialization)</h3>
          <p class="card-text">
            <strong>Cell modification</strong> (or differentiation) is the
            process where a cell changes its shape and structure to perform a
            specific function. This is critical for adaptation and survival.
          </p>
          <h5>A. Animal Cell Modifications</h5>
          <!-- Cells Section -->
          <div class="container mb-5">
            <div class="row g-4">
              <!-- Red Blood Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Red Blood Cells (Erythrocytes)</h5>
                    <p class="card-text">
                      Lose their nucleus at maturity to create more space for
                      <strong>hemoglobin</strong>, allowing them to carry more
                      oxygen. Their <strong>biconcave shape</strong> increases
                      surface area.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Sperm Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Sperm Cells</h5>
                    <p class="card-text">
                      Equipped with a <strong>flagellum</strong> for swimming
                      toward the egg and a head packed with
                      <strong>mitochondria</strong> for energy.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Nerve Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Nerve Cells (Neurons)</h5>
                    <p class="card-text">
                      Have long extensions called <strong>axons</strong> and
                      <strong>dendrites</strong> to transmit electrical signals
                      over long distances.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Muscle Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Muscle Cells</h5>
                    <p class="card-text">
                      Contain high concentrations of
                      <strong>mitochondria</strong> and specialized contractile
                      proteins (<strong>actin</strong> and
                      <strong>myosin</strong>) for movement.
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <img
              src="../images/animal_cell_modifications.png"
              alt=""
              class="img-fluid img-thumbnail my-3"
            />
          </div>
          <h5>B. Plant Cell Modifications</h5>
          <!-- Cells Section -->
          <div class="container mb-5">
            <div class="row g-4">
              <!-- Red Blood Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Root Hair Cells:</h5>
                    <p class="card-text">
                      These have long, hair-like projections that increase the
                      surface area for maximum water and mineral absorption from
                      the soil.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Sperm Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Xylem and Phloem</h5>
                    <p class="card-text">
                      These are "tubular" modifications. Xylem transports water
                      upward, while Phloem transports food (sugar) throughout
                      the plant.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Nerve Cells -->
              <div class="col-md-6 col-lg-3">
                <div class="card h-100 shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title">Guard Cells</h5>
                    <p class="card-text">
                      Found on leaves; they change shape to open or close pores
                      (stomata) to regulate gas exchange and water loss.
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <img
              src="../images/plant_cell_modifications.png"
              alt=""
              class="img-fluid img-thumbnail my-3"
            />
          </div>
        </div>

        <h3>III. Key Takeaways</h3>
        <!-- Cell Modifications Table -->
        <div class="container mb-5 pb-5">
          <div class="card shadow-sm">
            <div class="card-body">
              <h4 class="mb-4 text-center">Cell Structural Modifications</h4>

              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-success">
                    <tr>
                      <th scope="col">Feature</th>
                      <th scope="col">Modification Purpose</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="fw-semibold">Surface Area</td>
                      <td>
                        Cells like <strong>root hairs</strong> or
                        <strong>microvilli</strong>
                        increase surface area for efficient absorption.
                      </td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Motility</td>
                      <td>
                        <strong>Cilia</strong> and
                        <strong>flagella</strong> allow cells to move or move
                        substances along cell surfaces.
                      </td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Transport</td>
                      <td>
                        Loss of organelles (as in <strong>RBCs</strong>) or
                        <strong>tube-like shapes</strong> (xylem) aid movement
                        of materials.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

      </div>
        <div class="container mb-5 pb-5">
          <div class="card shadow-sm">
            <div class="card-body">
              <h2 class="card-title mb-3">Check Your Understanding</h2>
              <p class="mb-4">
                Answer each question in your own words. When you are ready,
                click <strong>Submit</strong> to reveal the correct answers.
              </p>

              <!-- Question 1 -->
              <div class="mb-4">
                <label class="form-label fw-bold"
                  >1. Why is it an advantage for a red blood cell to lack a
                  nucleus?</label
                >
                <textarea
                  class="form-control"
                  rows="4"
                  placeholder="Your answer..."
                ></textarea>
              </div>

              <!-- Question 2 -->
              <div class="mb-4">
                <label class="form-label fw-bold"
                  >How does the structure of a sperm cell reflect its primary
                  function?</label
                >
                <textarea
                  class="form-control"
                  rows="4"
                  placeholder="Your answer..."
                ></textarea>
              </div>

              <!-- Question 3 -->
              <div class="mb-4">
                <label class="form-label fw-bold"
                  >3. Compare and contrast a root hair cell with a human nerve
                  cell in terms of their <em>projections</em>.</label
                >
                <textarea
                  class="form-control"
                  rows="4"
                  placeholder="Your answer..."
                ></textarea>
              </div>

              <!-- Answers -->
              <div
                id="answers"
                class="alert alert-secondary mt-4"
                style="display: none"
              >
                <h5 class="alert-heading">Correct Answers</h5>
                <ol>
                  <li>
                    <strong>Red blood cells:</strong> Lacking a nucleus provides
                    more space for haemoglobin, allowing the cell to carry more
                    oxygen and making it more flexible to pass through narrow
                    capillaries.
                  </li>
                  <li>
                    <strong>Sperm cell:</strong> The streamlined shape, long
                    tail (flagellum), many mitochondria, and acrosome help the
                    sperm swim efficiently and penetrate the egg for
                    fertilisation.
                  </li>
                  <li>
                    <strong>Root hair vs nerve cell:</strong> A root hair cell
                    has a long hair-like projection to increase surface area for
                    water and mineral absorption, while a nerve cell has long
                    projections (axon and dendrites) to transmit electrical
                    impulses over long distances.
                  </li>
                </ol>
              </div>

              <button class="btn btn-primary mb-5" onclick="showAnswers()">
                Submit
              </button>
            </div>
          </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-3 fixed-bottom">
      <div class="container d-flex justify-content-end">
        <p class="fst-italic px-md-3">
          Please answer the exam after you have studied the lecture properly
        </p>
        <button
          class="btn btn-success"
          data-bs-toggle="modal"
          data-bs-target="#examModal"
        >
          Answer Exam
        </button>
      </div>
    </footer>

    <!-- Exam Modal -->
    <div
      class="modal fade"
      id="examModal"
      tabindex="-1"
      data-bs-backdrop="static"
    >
      <div
        class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Lesson 3 EXAM</h5>
          </div>

          <div class="modal-body">
            <form id="examForm">
              <div class="row">
                <div class="col-md-6">
                  <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1"
                      >Name:</span
                    >
                    <input
                      type="text"
                      class="form-control"
                      name="student_name"
                      aria-describedby="basic-addon1"
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1"
                      >Grade and Section:</span
                    >
                    <input
                      type="text"
                      class="form-control"
                      name="grade_n_section"
                      aria-describedby="basic-addon1"
                    />
                  </div>
                </div>
              </div>
              <hr />

              <p class="fw-bold fst-italic">
                Instructions: Read each question carefully and select the best
                answer from the given choices.
              </p>

              <div class="container-fluid my-3">
                <hr class="text-danger" />
                <hr />
                <!-- Q1 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >Which cell type is characterized by having a cell wall made
                    of chitin and no chloroplasts?
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      value="A"
                      id="q1a"
                    />
                    <label class="form-check-label" for="q1a"
                      >Plant cell
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      value="B"
                      id="q1b"
                    />
                    <label class="form-check-label" for="q1b"
                      >Animal cell</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      value="C"
                      id="q1c"
                    />
                    <label class="form-check-label" for="q1c"
                      >Fungal cell</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      value="D"
                      id="q1d"
                    />
                    <label class="form-check-label" for="q1d"
                      >Protist cell</label
                    >
                  </div>
                </div>
                <hr />
                <!-- Q2 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >The process where a general cell develops into a
                    specialized cell with a specific shape and function is
                    called:
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      value="A"
                      id="q2a"
                    />
                    <label class="form-check-label" for="q2a"
                      >Cell division
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      value="B"
                      id="q2b"
                    />
                    <label class="form-check-label" for="q2b"
                      >Cell modification (Differentiation)
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      value="C"
                      id="q2c"
                    />
                    <label class="form-check-label" for="q2c"
                      >Cell respiration</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      value="D"
                      id="q2d"
                    />
                    <label class="form-check-label" for="q2d"
                      >Cell migration</label
                    >
                  </div>
                </div>
                <hr />
                <!-- Q3 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >Why do mature human red blood cells (erythrocytes) lack a
                    nucleus?
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      value="A"
                      id="q3a"
                    />
                    <label class="form-check-label" for="q3a"
                      >To allow the cell to divide faster
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      value="B"
                      id="q3b"
                    />
                    <label class="form-check-label" for="q3b"
                      >To make the cell lighter for faster travel</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      value="C"
                      id="q3c"
                    />
                    <label class="form-check-label" for="q3c"
                      >To create more space for hemoglobin to carry
                      oxygen</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      value="D"
                      id="q3d"
                    />
                    <label class="form-check-label" for="q3d"
                      >To prevent the cell from being attacked by viruses</label
                    >
                  </div>
                </div>
                <hr />
                <!-- Q4 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >4. Which organelle is found in high concentrations in the
                    "midpiece" of a sperm cell to provide energy for swimming?
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      value="A"
                      id="q4a"
                    />
                    <label class="form-check-label" for="q4a">Nucleus </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      value="B"
                      id="q4b"
                    />
                    <label class="form-check-label" for="q4b">Golgi Body</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      value="C"
                      id="q4c"
                    />
                    <label class="form-check-label" for="q4c"
                      >Mitochondria
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      value="D"
                      id="q4d"
                    />
                    <label class="form-check-label" for="q4d">Ribosome</label>
                  </div>
                </div>
                <hr />
                <!-- Q5 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >A neuron’s long extension, called an axon, is a
                    modification specifically designed for:
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      value="A"
                      id="q5a"
                    />
                    <label class="form-check-label" for="q5a"
                      >Storing nutrients
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      value="B"
                      id="q5b"
                    />
                    <label class="form-check-label" for="q5b"
                      >Transmitting electrical signals over long
                      distances</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      value="C"
                      id="q5c"
                    />
                    <label class="form-check-label" for="q5c"
                      >Absorbing water from surrounding tissues</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      value="D"
                      id="q5d"
                    />
                    <label class="form-check-label" for="q5d"
                      >Protecting the brain from physical shock</label
                    >
                  </div>
                </div>
                <hr />
                <!-- Q6 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >Which of the following plant cell modifications is
                    responsible for increasing the surface area to maximize
                    water and mineral absorption?
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      value="A"
                      id="q6a"
                    />
                    <label class="form-check-label" for="q6a"
                      >Guard cells
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      value="B"
                      id="q6b"
                    />
                    <label class="form-check-label" for="q6b"
                      >Xylem vessels</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      value="C"
                      id="q6c"
                    />
                    <label class="form-check-label" for="q6c"
                      >Phloem tubes
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      value="D"
                      id="q6d"
                    />
                    <label class="form-check-label" for="q6d"
                      >Root hair cells</label
                    >
                  </div>
                </div>

                <!-- Q7 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >Guard cells are found on the surface of leaves. Their
                    primary role is to:
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      value="A"
                      id="q7a"
                    />
                    <label class="form-check-label" for="q7a"
                      >Perform the majority of photosynthesis</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      value="B"
                      id="q7b"
                    />
                    <label class="form-check-label" for="q7b"
                      >Open and close stomata to regulate gas exchange and water
                      loss</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      value="C"
                      id="q7c"
                    />
                    <label class="form-check-label" for="q7c"
                      >Protect the leaf from being eaten by insects
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      value="D"
                      id="q7d"
                    />
                    <label class="form-check-label" for="q7d"
                      >Transport sugar from the leaves to the roots</label
                    >
                  </div>
                </div>

                <!-- Q8 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >8. Muscle cells contain specialized contractile proteins
                    that allow for movement. These proteins are:
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      value="A"
                      id="q8a"
                    />
                    <label class="form-check-label" for="q8a"
                      >Cellulose and Chitin</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      value="B"
                      id="q8b"
                    />
                    <label class="form-check-label" for="q8b"
                      >Actin and Myosin</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      value="C"
                      id="q8c"
                    />
                    <label class="form-check-label" for="q8c"
                      >Hemoglobin and Insulin
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      value="D"
                      id="q8d"
                    />
                    <label class="form-check-label" for="q8d"
                      >Keratin and Collagen</label
                    >
                  </div>
                </div>

                <!-- Q9 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >9. Which tissue in plants is modified into "tubes"
                    specifically for the upward transport of water?
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      value="A"
                      id="q9a"
                    />
                    <label class="form-check-label" for="q9a">Phloem</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      value="B"
                      id="q9b"
                    />
                    <label class="form-check-label" for="q9b">Xylem</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      value="C"
                      id="q9c"
                    />
                    <label class="form-check-label" for="q9c">Epidermis </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      value="D"
                      id="q9d"
                    />
                    <label class="form-check-label" for="q9d">Mesophyll</label>
                  </div>
                </div>

                <!-- Q10 -->
                <div class="mb-3">
                  <label class="form-label fw-bold"
                    >A cell with a cell wall made of cellulose and the presence
                    of large central vacuoles and chloroplasts is a/an:
                  </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q10"
                      value="A"
                      id="q10a"
                    />
                    <label class="form-check-label" for="q10a"
                      >Animal cell</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q10"
                      value="B"
                      id="q10b"
                    />
                    <label class="form-check-label" for="q10b"
                      >Bacterial cell</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q10"
                      value="C"
                      id="q10c"
                    />
                    <label class="form-check-label" for="q10c"
                      >Plant cell
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q10"
                      value="D"
                      id="q10d"
                    />
                    <label class="form-check-label" for="q10d"
                      >Fungal cell</label
                    >
                  </div>
                </div>
              </div>
            </form>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-success" id="submitExam">
              Submit Answers
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <script>
      function showAnswers() {
        document.getElementById("answers").style.display = "block";
      }
    </script>

    <script>
      $(document).ready(function () {
        const correctAns = {
          ans1: "C",
          ans2: "B",
          ans3: "C",
          ans4: "C",
          ans5: "B",
          ans6: "D",
          ans7: "B",
          ans8: "B",
          ans9: "B",
          ans10: "C"
        };
        const multipleQues = {
          q1: "Which cell type is characterized by having a cell wall made of chitin and no chloroplasts?",
          q2: "The process where a general cell develops into a specialized cell with a specific shape and function is called: ",
          q3: "Why do mature human red blood cells (erythrocytes) lack a nucleus?",
          q4: "Which organelle is found in high concentrations in the 'midpiece' of a sperm cell to provide energy for swimming? ",
          q5: "A neuron’s long extension, called an axon, is a modification specifically designed for:",
          q6: "Which of the following plant cell modifications is responsible for increasing the surface area to maximize water and mineral absorption?",
          q7: "Guard cells are found on the surface of leaves. Their primary role is to:",
          q8: "Muscle cells contain specialized contractile proteins that allow for movement. These proteins are: ",
          q9: "Which tissue in plants is modified into 'tubes' specifically for the upward transport of water?",
          q10: "A cell with a cell wall made of cellulose and the presence of large central vacuoles and chloroplasts is a/an: ",
        };

        $("#submitExam").click(function () {
          let organelleResults = [];
          let organelleScore = 0;
          let totalOrganelleItems = 0;

          const mAnswers = {
            m1: $('input[name="q1"]:checked').val() || "No answer",
            m2: $('input[name="q2"]:checked').val() || "No answer",
            m3: $('input[name="q3"]:checked').val() || "No answer",
            m4: $('input[name="q4"]:checked').val() || "No answer",
            m5: $('input[name="q5"]:checked').val() || "No answer",
            m6: $('input[name="q6"]:checked').val() || "No answer",
            m7: $('input[name="q7"]:checked').val() || "No answer",
            m8: $('input[name="q8"]:checked').val() || "No answer",
            m9: $('input[name="q9"]:checked').val() || "No answer",
            m10: $('input[name="q10"]:checked').val() || "No answer"
          };

          const name = $('input[name="student_name"]').val();
          const grade_n_section = $('input[name="grade_n_section"]').val();

          /* =======================
         CREATE PDF
      ======================= */
          const doc = new window.jspdf.jsPDF("p", "mm", "a4");

          const pageHeight = doc.internal.pageSize.height;
          const bottomMargin = 20;

          let y = 35;

          function checkPageBreak(extra = 0) {
            if (y + extra > pageHeight - bottomMargin) {
              doc.addPage();
              y = 20;
            }
          }

          /* =======================
         HEADER
      ======================= */
          doc.setFont("helvetica", "bold");
          doc.setFontSize(12);
          doc.setTextColor(0);

          doc.text(`Name: ${name}`, 20, 20);
          doc.text(`Grade and Section: ${grade_n_section}`, 20, 26);

          const today = new Date();
          const formattedDate = today.toLocaleDateString("en-US", {
            year: "numeric",
            month: "long",
            day: "numeric",
          });

          doc.text(`Date: ${formattedDate}`, 130, 20);

          /* =======================
         MULTIPLE QUESTIONS LOOP
======================= */

          y = y + 10;
          for (let i = 1; i <= 10; i++) {
            const q = "q" + i; //questions
            const mAns = "m" + i; //student answer
            const cAns = "ans" + i; //correct answer

            checkPageBreak(25);

            // Question
            doc.setFont("helvetica", "bold");
            doc.setTextColor(0);
            const qText = doc.splitTextToSize(`${i}. ${multipleQues[q]}`, 180);
            doc.text(qText, 14, y);
            y += qText.length * 6;

            // Student answer
            checkPageBreak(10);
            doc.setFont("helvetica", "normal");
            doc.setTextColor(0, 0, 128);
            doc.text(`Your answer: ${mAnswers[mAns]}`, 16, y);
            y += 5;

            // Correct answer
            checkPageBreak(10);
            const correctText = Array.isArray(correctAns[cAns])
              ? correctAns[cAns].join(" or ")
              : correctAns[cAns];

            doc.setTextColor(0, 128, 0);
            doc.text(`Correct answer: ${correctText}`, 16, y);
            y += 5;

            // Check correctness
            const isCorrect = Array.isArray(correctAns[cAns])
              ? correctAns[cAns].includes(mAnswers[mAns])
              : mAnswers[mAns] === correctAns[cAns];

            // Result box
            checkPageBreak(12);
            const mark = isCorrect ? "Correct" : "Wrong";
            const color = isCorrect ? [0, 180, 0] : [200, 0, 0];

            doc.setDrawColor(...color);
            doc.setFillColor(...color);
            doc.setFont("helvetica", "bold");
            doc.setTextColor(255);
            doc.rect(16, y, 40, 6, "FD");
            doc.text(mark, 18, y + 4);
            y += 12;

            // Separator
            doc.setDrawColor(150);
            doc.line(14, y, 196, y);
            y += 6;
          }

          /* =======================
   MULTIPLE QUESTIONS SCORE (FIXED)
======================= */
          let score1 = 0;
          const totalQuestions1 = 6;

          for (let i = 1; i <= totalQuestions1; i++) {
            const answerKey = "m" + i;
            const correctKey = "ans" + i;

            const studentAnswer = mAnswers[answerKey];
            const correctAnswer = correctAns[correctKey];

            const isCorrect = Array.isArray(correctAnswer)
              ? correctAnswer.includes(studentAnswer)
              : studentAnswer === correctAnswer;

            if (isCorrect) score1++;
          }

          doc.setFont("helvetica", "bold");
          doc.setFontSize(12);
          doc.setTextColor(255, 0, 0);
          doc.text(`Score: ${score1} / ${totalQuestions1}`, 14, y);
          // Separator
          doc.setDrawColor(150);
          doc.line(14, y + 6, 196, y + 6);

          y += 20;

          /* =======================
         SAVE & CLOSE
      ======================= */
          doc.save("Lesson 4.pdf");
          $("#examModal").modal("hide");
        });
      });
    </script>
  </body>
</html>
